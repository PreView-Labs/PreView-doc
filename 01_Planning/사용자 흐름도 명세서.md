
# PreView AI 사용자 흐름도 명세서

본 문서는 **PreView AI** 서비스의 핵심 사용자 흐름(User Flow)을 정의하여 개발팀과 디자인팀이 일관된 사용자 경험을 구현할 수 있도록 가이드를 제공합니다.

* **작성자:** [고동현](https://github.com/rhehdgus8831)
* **작성일:** 2025-12-02
* **문서 버전:** v1.0.0

**대상 독자:**

* **기획자 / PM**: 사용자 여정을 이해하고 기능 명세를 검증하는 담당자
* **백엔드 개발자**: 카카오 로그인 API 연동, 이력서 파싱, 면접 진행 로직 구현 담당자
* **프론트엔드 개발자**: 카카오 SDK 연동, 채팅 UI, 결과 리포트 화면 구현 담당자
* **디자이너 (UX/UI)**: 사용자 흐름에 기반한 화면 설계 및 인터랙션 구체화

-----

## 1\. 개요

### 1.1 서비스 개념

사용자의 이력서(PDF)를 분석하여 맞춤형 면접 질문을 생성하고, 실시간 채팅을 통해 꼬리 질문 압박 면접을 진행한 뒤, 객관적인 피드백 리포트를 제공하는 AI 면접 코칭 플랫폼.

### 1.2 핵심 MVP 기능

1.  **간편 로그인**: 카카오 계정을 이용한 3초 회원가입/로그인.
2.  **이력서 업로드**: PDF 파싱 및 핵심 경험 추출.
3.  **모의 면접 진행**: AI 면접관과의 실시간 텍스트 채팅 (꼬리 질문 포함).
4.  **결과 피드백**: 면접 종료 후 점수 및 개선점 리포트 제공.

-----

## 2\. 사용자 정의

| 사용자 유형 | 설명 | 주요 권한 |
| :--- | :--- | :--- |
| **비회원** | 로그인하지 않은 방문자 | 서비스 소개(랜딩 페이지) 조회 가능 |
| **회원** | 카카오 로그인을 완료한 사용자 | 이력서 업로드, 모의 면접 진행, 히스토리 조회 가능 |

-----

## 3\. 화면 구조 정의

### 3.1 전체 레이아웃 (Web App)

```
┌─────────────────────────────────────────────────┐
│  Header: PreView 로고             [내 정보]     │
├─────────────────────────────────────────────────┤
│                                                 │
│                  Main Content                   │
│       (대시보드 / 면접 채팅방 / 결과 리포트)        │
│                                                 │
├─────────────────────────────────────────────────┤
│          Footer: © 2025 PreView AI              │
└─────────────────────────────────────────────────┘
```

### 3.2 메인 대시보드 (로그인 후)

```
┌─────────────────────────────────────────────────────────────┐
│  안녕하세요, 김개발님! (카카오 프로필)                      │
│  오늘도 합격을 위해 달려볼까요?                             │
│                                                             │
│  ┌────────────────────────────┐  ┌───────────────────────┐  │
│  │                            │  │                       │  │
│  │      🚀 새 면접 시작하기     │  │    📂 지난 면접 기록    │  │
│  │                            │  │                       │  │
│  │   [ 이력서 업로드 / 선택 ]   │  │   • 2025.12.01 (85점) │  │
│  │                            │  │   • 2025.11.28 (72점) │  │
│  └────────────────────────────┘  └───────────────────────┘  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

-----

## 4\. 핵심 User Flow (Mermaid)

### 4.1 로그인 및 진입 Flow (카카오)

```mermaid
flowchart TD
    A[서비스 접속] --> B{로그인 여부}
    B -->|비회원| C[랜딩 페이지]
    B -->|회원| D[메인 대시보드]
    
    C --> E[카카오로 시작하기 버튼]
    E --> F[카카오 로그인 (OAuth2)]
    F -->|신규/기존 통합| D
```

### 4.2 면접 설정 및 시작 Flow

```mermaid
flowchart TD
    A[메인 대시보드] --> B[새 면접 시작 클릭]
    B --> C{이력서 선택}
    
    C -->|새로 업로드| D[PDF 파일 업로드]
    D --> E[서버: 텍스트 추출 및 분석]
    E --> C
    
    C -->|기존 이력서 선택| F[직무 및 면접관 성향 선택]
    F --> G[면접 시작하기 버튼]
    G --> H[면접 대기방 (로딩)]
    H --> I[서버: 맞춤형 질문 생성]
    I --> J[면접 채팅방 입장]
```

### 4.3 실시간 면접 진행 Flow

```mermaid
flowchart TD
    A[면접 채팅방 입장] --> B[AI: 첫 번째 질문 제시]
    B --> C[사용자: 답변 입력]
    
    C --> D{답변 분석 (AI)}
    D -->|불명확/검증 필요| E[AI: 꼬리 질문 생성]
    D -->|충분한 답변| F[AI: 다음 주제 질문]
    
    E --> G[AI: 질문 스트리밍 출력]
    F --> G
    
    G --> C
    
    C --> H{면접 종료 버튼}
    H -->|클릭| I[면접 종료 및 분석 요청]
    I --> J[결과 리포트 페이지]
```

-----

## 5\. 상세 화면 Flow

### 5.1 면접 설정 (Modal)

**진입점**: 메인 대시보드 → [새 면접 시작하기] 클릭

**화면 구성**:

```
┌─────────────────────────────────────────────┐
│           면접 설정 (Setup)               X │
├─────────────────────────────────────────────┤
│ 1. 이력서 선택                              │
│    [ backend_resume_v1.pdf  ▼ ]             │
│    (+ 새 파일 업로드)                        │
│                                             │
│ 2. 지원 직무                                │
│    ( ) 백엔드   ( ) 프론트엔드   ( ) AI      │
│                                             │
│ 3. 면접관 페르소나                          │
│    ( ) 친절한 (기본)                        │
│    ( ) 압박 면접 (Hard Mode)                │
│                                             │
│           [ 면접 시작하기 🚀 ]               │
└─────────────────────────────────────────────┘
```

**Flow**:

1.  사용자가 이력서 파일을 선택하거나 새로 업로드합니다.
2.  지원 직무와 원하는 면접관 스타일을 선택합니다.
3.  [시작하기]를 누르면 로딩 화면(질문 생성 중)을 거쳐 채팅방으로 이동합니다.

-----

### 5.2 면접 채팅방 (Chat UI)

**진입점**: 설정 완료 후 로딩 종료 시

**주요 기능**:

- AI 메시지 실시간 스트리밍 (타자 치는 효과)
- 사용자 답변 입력 및 전송
- 면접 종료 버튼

**화면 구성**:

```
┌─────────────────────────────────────────────────────────────┐
│  AI 면접관 (압박형)                               [종료하기] │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ 🤖 AI:                                                      │
│  지원자님, Spring Boot 프로젝트에서 Redis를                 │
│  사용하셨는데, 구체적으로 어떤 데이터를 캐싱했나요?         │
│                                                             │
│                                          🧑‍💻 나:             │
│                        조회수가 높은 게시글 목록을 캐싱하여 │
│                        DB 부하를 줄였습니다.                │
│                                                             │
│ 🤖 AI: (Typing...)                                          │
│  그렇다면 Redis가 다운되었을 때의 대비책은                  │
│  고려해보셨나요? (꼬리 질문)                                │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [ 답변을 입력하세요...                           ] [ 전송 ] │
└─────────────────────────────────────────────────────────────┘
```

**Flow**:

1.  AI가 이력서를 기반으로 첫 질문을 던집니다.
2.  사용자가 답변을 입력하고 엔터(전송)를 칩니다.
3.  백엔드로 답변이 전송되고, AI는 이를 분석하여 다음 질문(또는 꼬리 질문)을 생성합니다.
4.  AI의 답변이 \*\*SSE(Server-Sent Events)\*\*를 통해 실시간으로 출력됩니다.
5.  사용자가 [종료하기] 버튼을 누르면 면접이 끝나고 결과 페이지로 이동합니다.

-----

### 5.3 피드백 리포트 (Result)

**진입점**: 면접 종료 후

**주요 기능**:

- 종합 점수 및 등급 표시
- 긍정적 평가 / 보완점 요약
- 문답별 상세 피드백 (Accordion UI)

**화면 구성**:

```
┌─────────────────────────────────────────────────────────────┐
│                    📋 면접 분석 결과                        │
├─────────────────────────────────────────────────────────────┤
│  종합 점수: 85점 (B+)                                       │
│  "기술적 이해도는 높으나, 두괄식 표현이 필요합니다."        │
│                                                             │
│  ✅ 좋았던 점                                               │
│   - 트러블슈팅 경험을 구체적인 수치로 설명함                │
│   - 모르는 질문에 대해 솔직하게 답변함                      │
│                                                             │
│  ⚠️ 보완할 점                                               │
│   - 답변이 너무 길어지는 경향이 있음 (평균 45초)            │
│   - 'Spring' 관련 용어 정의가 부정확함                      │
│                                                             │
│  [상세 피드백 보기 ▼]                                       │
│  Q1. Redis 사용 이유?                                       │
│     👉 답변: "조회수 캐싱..."                               │
│     💡 AI 조언: Write-Back 전략까지 언급했다면 더 좋았...   │
│                                                             │
│               [ 메인으로 돌아가기 ]                         │
└─────────────────────────────────────────────────────────────┘
```

-----

## 6\. 데이터 흐름 요약

1.  **로그인**: User → Kakao OAuth2 → Token → Server (Session/JWT)
2.  **이력서 업로드**: User → Spring Boot → PDF Parser → Text → AI 분석 → DB 저장
3.  **질문 생성**: User → Spring Boot → Google Gemini (Free) → 맞춤 질문 생성
4.  **대화 진행**: User 답변 → Spring Boot → Google Gemini → 꼬리 질문 생성 → SSE Stream → User 화면
5.  **결과 분석**: 전체 대화 로그 → Google Gemini → 종합 평가 → DB 저장 → User 화면

-----

## 7\. 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
| :--- | :--- | :--- | :--- |
| v1.0.0 | 2025.12.02 | MVP 핵심 기능 (업로드, 채팅, 결과) 정의 | [고동현](https://github.com/rhehdgus8831) |